!function(e){e(function(){function t(e,t,o){var i=o.val(),s=[];e.geocode({address:i},function(e,o){if("OK"===o){t.setCenter(e[0].geometry.location);var c=new google.maps.Marker({map:t,position:e[0].geometry.location,title:i});s.push(e[0].geometry.location);var a=new google.maps.InfoWindow({});google.maps.event.addListener(c,"click",function(){a.setContent(i),a.open(n,this)})}else alert("Geocode was not successful for the following reason: "+o)});for(var c=new google.maps.LatLngBounds,a=0,r=s.length;r>a;a++)c.extend(s[a]);n.fitBounds(c),google.maps.event.addListenerOnce(n,"bounds_changed",function(e){this.getZoom()<13&&this.setZoom(12)})}function o(e,t){var o=function(e,o){return o!=google.maps.places.PlacesServiceStatus.OK?void alert(o):void e.forEach(function(e){var o='<li><div class="prediction-list--result">'+e.description+"</div></li>";t.append(o)})},n={input:e,types:["cities"],componentRestrictions:{country:"sg"}};s=new google.maps.places.AutocompleteService,s.getQueryPredictions(n,o)}var n=new google.maps.Map(document.getElementById("map"),{center:{lat:1.3553794,lng:103.8677444},zoom:13}),i=new google.maps.Geocoder;e(".jsFormSubmit").click(function(o){o.preventDefault(),t(i,n,e("#pickup-input")),t(i,n,e("#dropoff-input"))});var s;e("#pickup-input").keyup(function(){var t=this.value,n=e("#pickup-prediction-list");""!==t?(n.empty().show(),o(t,n)):n.empty().hide()}),e("#dropoff-input").keyup(function(){var t=this.value,n=e("#dropoff-prediction-list");""!==t?(n.empty().show(),o(t,n)):n.empty().hide()}),e(document).on("click",".prediction-list > li",function(){var t=e(this).text(),o=e(this).parent();e(this).parent().prev().find("input").val(t),o.empty().hide()}),e(document).click(function(t){var o=e(".prediction-list");o.is(t.target)||0!==o.has(t.target).length||o.hide()})})}(jQuery);